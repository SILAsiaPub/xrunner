[variables]
title=Unit Tests

seedpath1=D:\All-SIL-Publishing\_xrunner-projects\Var-testing
seedpath2=D:\All-SIL-Publishing\_xrunner-projects
ptestpath1=%seedpath1%
ptestpath2=%seedpath2%
etestpath1=!seedpath1!
etestpath2=!seedpath2!
ptestfile1=%seedpath1%\project.txt
ptestfile2=%seedpath2%\project.txt
etestfile1=!seedpath1!\project.txt
etestfile2=!seedpath2!\project.txt
expectpath1=D:\All-SIL-Publishing\_xrunner-projects\Var-testing
expectpath2=D:\All-SIL-Publishing\_xrunner-projects
expectfile1=D:\All-SIL-Publishing\_xrunner-projects\Var-testing\project.txt
expectfile2=D:\All-SIL-Publishing\_xrunner-projects\project.txt
tz50=:var vname vvalue
tz51=echo vname vvalue
tcount=0
infolevel=0
pauseatend=
[a]
button=Run all tests
t=:start xrun "%projectpath%\project.txt" "" 0 pause unittest

[i]
button=test :outfile
t=:start xrun "%projectpath%\project.txt" i 0 pause unittest
ut=:outfile "%expectfile1%" "%ptestfile1%" "%ptestfile2%" "%% x 2 var in project.txt"
ut=:outfile "%expectfile2%" "" "%ptestfile2%" "%% x 2 no var1 in project.txt"
ut=:outfile "%expectfile1%" "!ptestfile1!" "!ptestfile2!" "%% + ^^! var in project.txt"
ut=:outfile "%expectfile2%" "" "!ptestfile2!" "%% + ^^^! exclamation var in project.txt"
ut=:outfile "%expectfile1%" "%etestfile1%" "%etestfile2%" "^^! exclamation + %% var in project.txt"
ut=:outfile "%expectfile2%" "" "%etestfile2%" "^^! exclamation + %% var in project.txt"
ut=:outfile "%expectfile1%" "!etestfile1!" "!etestfile2!" "exclamation x 2 var in project.txt"
ut=:outfile "%expectfile2%" "" "!etestfile2!" "exclamation x 2 var in project.txt"

[b]
button=check :checkdir    
t=:start xrun "%projectpath%\project.txt" b 0 pause unittest
ut=:checkdir "%expectpath1%" "%ptestfile1%" "%% x 2 var in project.txt"
ut=:checkdir "%expectpath1%" "!ptestfile1!" "%% + ^^! var in project.txt"
ut=:checkdir "%expectpath1%" "%etestfile1%" "^^! exclamation + %% var in project.txt"
ut=:checkdir "%expectpath1%" "!etestfile1!" "exclamation x 2 var in project.txt"
ut=:checkdir "%expectpath1%" "%ptestpath1%" "%% x 2 var in project.txt"
ut=:checkdir "%expectpath1%" "!etestpath1!" "exclamation x 2 var in project.txt"

[c]
button=check :var
t=:start xrun "%projectpath%\project.txt" c 0 pause unittest
ut=:var "val, %expectfile1%" val "%ptestfile1%" "%% x 2 var in project.txt"   
ut=:var "val, %expectfile1%" val "!ptestfile1!" "%% + exc var in project.txt" 
ut=:var "val, %expectpath1%" val "%etestpath1%" "exc + %% var in project.txt"         
ut=:var "val, %expectpath1%" val "!etestpath1!" "exc x 2 var in project.txt"



[d]
button=check :command2var
t=:start xrun "%projectpath%\project.txt" d 0 pause unittest
ut=:command2var "where java, javapath, C:\Program Files\Java\jdk1.8.0_101\bin\java.exe" "where java" javapath "Java test"
ut=:command2var "where xcopy, javapath, C:\Windows\System32\xcopy.exe" "where xcopy" javapath "Java test"
ut=:command2var "dir /b C:\Windows\System32\xcopy.*, diroutput, xcopy.exe" "dir /b C:\Windows\System32\xcopy.*" diroutput "dir test"
ut=:command2var "echo hello world, hello, hello world" "echo hello world" hello "echo test"


[e]
button=check :v2
t=:start xrun "%projectpath%\project.txt" e 0 pause unittest
ut=:v2 "%expectfile1%" val "%ptestfile1%" "%% x 2 var in project.txt"   
ut=:v2 "%expectfile1%" val "!ptestfile1!" "%% + exclamation var in project.txt" 
ut=:v2 "%expectpath1%" val "%etestpath1%" "%% x 2 var in project.txt"         
ut=:v2 "%expectpath1%" val "!etestpath1!" "exclamation x 2 var in project.txt"


[f]
button= check :setinfolevel
t=:start xrun "%projectpath%\project.txt" f 0 pause unittest
ut=:setinfolevel " , , , , , {---,        ----}" 0 " nothing yet"
ut=:setinfolevel " on, , , , , {---,        ----}" 1 " nothing yet"
ut=:setinfolevel " on, on, , , , {---,        ----}" 2 " nothing yet"
ut=:setinfolevel " on, on, on, , , {---,        ----}" 3 " nothing yet"
ut=:setinfolevel " on, on, on, on, , {---,        ----}" 4 " nothing yet"
ut=:setinfolevel " on, on, on, on, on, {---,        ----}" 5 " nothing yet"


[g]
button=check :drivepath
t=:start xrun "%projectpath%\project.txt" g 0 pause unittest
ut=:drivepath "%expectpath1%" "%ptestfile1%" "%% x 2 var in project.txt"


[h]
button=Checking :main :taskgroup 
t=:start xrun "%projectpath%\project.txt" h 0 pause unittest
ut=:main "-,h,th" "h" "single group"
ut=:main "-,,ta,tb,tc,td,te,tf,tg,th,ti,tj" "" "all groups"
ut=:taskgroup "th" "th" "core test this one would return up to the maximum number of tasks but that is not needed here"

xt=:task " tz50, :, :var vname vvalue, call" "tz50" " not sure"
xt=:task " tz51, e, echo vname vvalue, " "tz51" " not sure"

[j]
button=Checking :funcend  for info levels 0, 1, 3
t=:loopstring "0 1 3" :sub sub-ja

[sub-ja]
t=:start xrun "%projectpath%\project.txt" j%sub1% %sub1% pause unittest

[j0]
ut=:funcend ":xslt, , , " :xslt "checking logic"
[j1]
ut=:funcend ":xslt, Created: %outfile%, , " ":xslt" " checkin logic"
[j3]
ut=:funcend ":xslt, Created: scripts\project.xslt, color 06,        ----} :xslt" :xslt " checkin logic"

[k]
button=Checking :funcend 
t=:start xrun "%projectpath%\project.txt" k 1 pause unittest


[l]
button=Checking :funcend 4
t=:start xrun "%projectpath%\project.txt" l 4 pause unittest


[m]
button=Checking :funcend no outfile
t=set outfile
t=:start xrun "%projectpath%\project.txt" m 0 pause unittest
ut=:funcend ":xslt, , color 06, " ":xslt" " checking logic"

